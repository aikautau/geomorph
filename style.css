
:root{
  --bg:#fffafc;
  --panel:#ffffff;
  --accent:#e97aa6; /* rose */
  --accent-2:#9ad1d4; /* mint */
  --text:#3a2d2f;
  --muted:#856c6f55;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0}
body{font-family:system-ui,-apple-system,'Hiragino Kaku Gothic ProN','Yu Gothic','Noto Sans JP',sans-serif;
     color:var(--text); background:linear-gradient(180deg,var(--bg),#fff)}
#app{height:100%;position:relative}
#map{position:absolute; inset:0}
.header{
  position:absolute; left:12px; top:12px; z-index:1000;
  background:var(--panel); border:1px solid var(--muted); border-radius:16px;
  padding:10px 14px; box-shadow:0 6px 20px #00000010; display:flex; gap:10px; align-items:center;
}
.header h1{font-size:16px; margin:0 6px 0 0; font-weight:700; color:var(--accent)}
.brand-dot{width:10px;height:10px;border-radius:50%;background:var(--accent); display:inline-block;margin-right:6px}
.controls{
  position:absolute; right:12px; top:12px; z-index:1000;
  background:var(--panel); border:1px solid var(--muted); border-radius:16px;
  padding:12px; box-shadow:0 6px 20px #00000010; width:min(92vw,360px);
}
.controls h2{font-size:14px;margin:0 0 8px 0;color:#6b4e54}
.row{display:flex; gap:8px; margin-bottom:8px; flex-wrap:wrap}
select,input[type="search"]{
  flex:1; padding:10px 12px; border-radius:12px; border:1px solid var(--muted);
  background:#fff; outline:none;
}
button{
  padding:10px 14px; border-radius:12px; border:1px solid var(--accent);
  background:var(--accent); color:white; cursor:pointer; font-weight:600;
}
button.ghost{background:#fff; color:var(--accent)}
.badge{display:inline-flex;align-items:center;gap:6px;padding:4px 8px;border-radius:999px;border:1px solid var(--muted);font-size:12px}
.legend{
  position:absolute; left:12px; bottom:12px; z-index:1000;
  background:var(--panel); border:1px solid var(--muted); border-radius:16px;
  padding:10px; box-shadow:0 6px 20px #00000010; font-size:12px; max-width:320px;
}
.legend-row{display:flex;flex-wrap:wrap;gap:8px}
.paint{display:inline-block;width:10px;height:10px;border-radius:50%;margin-right:6px;border:1px solid #0003}
footer.credits{
  position:absolute; right:12px; bottom:12px; z-index:1000; font-size:11px;
  background:#ffffffc5; padding:6px 8px; border-radius:10px; border:1px solid var(--muted);
}
@media (max-width:720px){
  .controls{width:calc(100vw - 24px)}
  .header{max-width:calc(100vw - 24px)}
}
.leaflet-popup-content-wrapper{border-radius:14px}
.leaflet-container a{color:var(--accent)}
