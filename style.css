
:root{
  --bg:#fffafc;
  --panel:#ffffff;
  --accent:#e97aa6; /* rose */
  --accent-2:#9ad1d4; /* mint */
  --text:#3a2d2f;
  --muted:#856c6f55;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0}
body{font-family:system-ui,-apple-system,'Hiragino Kaku Gothic ProN','Yu Gothic','Noto Sans JP',sans-serif;
     color:var(--text); background:linear-gradient(180deg,var(--bg),#fff)}
#app{height:100%;position:relative}
#map{position:absolute; inset:0}
.brand-dot{width:10px;height:10px;border-radius:50%;background:var(--accent); display:inline-block;margin-right:6px}
.title{
  display:flex; align-items:center; gap:10px; margin-bottom:8px;
}
.title h1{
  font-size:16px; margin:0; font-weight:700; color:var(--accent);
}
.title-text{display:flex; flex-direction:column; gap:4px}
.title .badge{font-size:11px}
.controls{
  position:absolute; right:12px; top:12px; z-index:1000;
  background:var(--panel); border:1px solid var(--muted); border-radius:16px;
  padding:12px; box-shadow:0 6px 20px #00000010; width:min(92vw,360px);
}
.controls h2{font-size:14px;margin:0 0 8px 0;color:#6b4e54}
.row{display:flex; gap:8px; margin-bottom:8px; flex-wrap:wrap}
.search-box{position:relative; flex:1; min-width:180px;}
.search-box input{width:100%; padding-right:110px;}
select,input[type="search"]{
  flex:1; padding:10px 12px; border-radius:12px; border:1px solid var(--muted);
  background:#fff; outline:none;
}
button{
  padding:10px 14px; border-radius:12px; border:1px solid var(--accent);
  background:var(--accent); color:white; cursor:pointer; font-weight:600;
}
button.ghost{background:#fff; color:var(--accent)}
button.toggle{
  width:100%; margin-bottom:10px; background:#fff; color:var(--accent);
  display:flex; align-items:center; justify-content:center; gap:6px;
}
.controls.collapsed button.toggle{
  background:var(--accent); color:#fff;
}
.controls-body{display:flex; flex-direction:column; gap:0}
.controls.collapsed .controls-body{display:none;}
.hits-badge{
  position:absolute; right:14px; top:50%; transform:translateY(-50%);
  background:#fde7f0; color:var(--accent); font-size:11px;
  padding:3px 8px; border-radius:999px; border:1px solid var(--muted);
  pointer-events:none;
  white-space:nowrap;
}

.badge{display:inline-flex;align-items:center;gap:6px;padding:4px 8px;border-radius:999px;border:1px solid var(--muted);font-size:12px}
.legend{
  margin-top:12px; background:var(--panel); border:1px solid var(--muted);
  border-radius:16px; padding:10px; box-shadow:0 6px 20px #00000010;
  font-size:12px;
}
.legend-row{display:flex;flex-wrap:wrap;gap:8px; margin-top:8px}
.paint{display:inline-block;width:10px;height:10px;border-radius:50%;margin-right:6px;border:1px solid #0003}
@media (max-width:720px){
  .controls{width:calc(100vw - 24px)}
  .title{max-width:calc(100vw - 24px)}
}
.leaflet-popup-content-wrapper{border-radius:14px}
.leaflet-container a{color:var(--accent)}
